webpackJsonp([27,47,49,50],{217:function(t,e,i){e=t.exports=i(4)(),e.push([t.id,".stepRegister[data-v-4a26efed]{width:750px;height:80px;overflow:hidden;position:relative;left:167px}.stepRegister .firstStep[data-v-4a26efed]{position:absolute;left:0}.stepRegister .line1[data-v-4a26efed]{position:absolute;left:59px;display:block;width:282px;height:20px;border-bottom:2px solid #c7c7c7}.stepRegister .secStep[data-v-4a26efed]{position:absolute;left:320px}.stepRegister .line2[data-v-4a26efed]{position:absolute;left:380px;display:block;width:282px;height:20px;border-bottom:2px solid #c7c7c7}.stepRegister .thirdStep[data-v-4a26efed]{position:absolute;left:640px}.littleTip[data-v-4a26efed]{width:250px;height:30px;margin:35px auto 0}.littleTip .tipContainer[data-v-4a26efed]{width:250px;height:30px;text-align:center;line-height:30px;border-radius:2px;background:rgba(30,103,234,.6);color:#fff}.primaryregiste[data-v-4a26efed]{top:120px;background:#fff;width:750px;border:1px solid #c7c7c7;margin:0 auto 50px}.primaryregiste .singleIofo[data-v-4a26efed]{height:80px;border-bottom:1px solid #c7c7c7}.primaryregiste .singleIofo input[data-v-4a26efed],.primaryregiste .singleIofo span[data-v-4a26efed]{display:inline-block;font-size:25px;line-height:80px}.primaryregiste .singleIofo span[data-v-4a26efed]{padding-left:20px}.primaryregiste .singleIofo input[data-v-4a26efed]{padding-left:15px;height:78px;margin-top:-4px;border:0;width:600px}.primaryregiste .singleIofo .getTxt[data-v-4a26efed]{width:200px;text-align:center;color:#4781ea;border-left:1px solid #ddd}.next[data-v-4a26efed]{top:165px;height:50px;width:400px;text-align:center;line-height:50px;border:2px solid #4781ea;margin:0 auto}.next .tagli[data-v-4a26efed]{font-size:25px;color:#4781ea}.lineLight[data-v-4a26efed]{border-bottom:2px solid #4781ea!important}.activeBake[data-v-4a26efed]{color:#4781ea!important;border:2px solid #4781ea!important}.activeColor[data-v-4a26efed]{color:#4781ea!important}.step[data-v-4a26efed]{font-size:20px;color:#c7c7c7;background:#fff;margin-left:20px;width:40px;height:40px;text-align:center;line-height:36px;border-radius:100%;border:2px solid #c7c7c7}.littleWord[data-v-4a26efed]{font-size:20px;margin-top:10px;padding-left:5px}input[data-v-4a26efed]::-webkit-input-placeholder{color:#c7c7c7}input[data-v-4a26efed]:-moz-placeholder,input[data-v-4a26efed]::-moz-placeholder{color:#c7c7c7}input[data-v-4a26efed]:-ms-input-placeholder{color:#c7c7c7}","",{version:3,sources:["/./src/page/register/children/registerName.vue"],names:[],mappings:"AACA,+BAA+B,YAAY,YAAY,gBAAgB,kBAAkB,UAAU,CAClG,AACD,0CAA0C,kBAAkB,MAAM,CACjE,AACD,sCAAsC,kBAAkB,UAAU,cAAc,YAAY,YAAY,+BAA+B,CACtI,AACD,wCAAwC,kBAAkB,UAAU,CACnE,AACD,sCAAsC,kBAAkB,WAAW,cAAc,YAAY,YAAY,+BAA+B,CACvI,AACD,0CAA0C,kBAAkB,UAAU,CACrE,AACD,4BAA4B,YAAY,YAAY,kBAAkB,CACrE,AACD,0CAA0C,YAAY,YAAY,kBAAkB,iBAAiB,kBAAkB,+BAAgC,UAAU,CAChK,AACD,iCAAiC,UAAU,gBAAgB,YAAY,yBAAyB,kBAAoB,CACnH,AACD,6CAA6C,YAAY,+BAA+B,CACvF,AACD,qGAAqG,qBAAqB,eAAe,gBAAgB,CACxJ,AACD,kDAAkD,iBAAiB,CAClE,AACD,mDAAmD,kBAAkB,YAAY,gBAAgB,SAAS,WAAW,CACpH,AACD,qDAAqD,YAAY,kBAAkB,cAAc,0BAA0B,CAC1H,AACD,uBAAuB,UAAU,YAAY,YAAY,kBAAkB,iBAAiB,yBAAyB,aAAa,CACjI,AACD,8BAA8B,eAAe,aAAa,CACzD,AACD,4BAA4B,yCAA0C,CACrE,AACD,6BAA6B,wBAAyB,kCAAmC,CACxF,AACD,8BAA8B,uBAAwB,CACrD,AACD,uBAAuB,eAAe,cAAc,gBAAgB,iBAAiB,WAAW,YAAY,kBAAkB,iBAAiB,mBAAmB,wBAAwB,CACzL,AACD,6BAA6B,eAAe,gBAAgB,gBAAgB,CAC3E,AACD,kDAAkD,aAAa,CAC9D,AAGD,iFAAyC,aAAa,CACrD,AACD,6CAA6C,aAAa,CACzD",file:"registerName.vue",sourcesContent:["\n.stepRegister[data-v-4a26efed]{width:750px;height:80px;overflow:hidden;position:relative;left:167px\n}\n.stepRegister .firstStep[data-v-4a26efed]{position:absolute;left:0\n}\n.stepRegister .line1[data-v-4a26efed]{position:absolute;left:59px;display:block;width:282px;height:20px;border-bottom:2px solid #C7C7C7\n}\n.stepRegister .secStep[data-v-4a26efed]{position:absolute;left:320px\n}\n.stepRegister .line2[data-v-4a26efed]{position:absolute;left:380px;display:block;width:282px;height:20px;border-bottom:2px solid #C7C7C7\n}\n.stepRegister .thirdStep[data-v-4a26efed]{position:absolute;left:640px\n}\n.littleTip[data-v-4a26efed]{width:250px;height:30px;margin:35px auto 0\n}\n.littleTip .tipContainer[data-v-4a26efed]{width:250px;height:30px;text-align:center;line-height:30px;border-radius:2px;background:rgba(30,103,234,0.6);color:#fff\n}\n.primaryregiste[data-v-4a26efed]{top:120px;background:#fff;width:750px;border:1px solid #C7C7C7;margin:0px auto 50px\n}\n.primaryregiste .singleIofo[data-v-4a26efed]{height:80px;border-bottom:1px solid #C7C7C7\n}\n.primaryregiste .singleIofo span[data-v-4a26efed],.primaryregiste .singleIofo input[data-v-4a26efed]{display:inline-block;font-size:25px;line-height:80px\n}\n.primaryregiste .singleIofo span[data-v-4a26efed]{padding-left:20px\n}\n.primaryregiste .singleIofo input[data-v-4a26efed]{padding-left:15px;height:78px;margin-top:-4px;border:0;width:600px\n}\n.primaryregiste .singleIofo .getTxt[data-v-4a26efed]{width:200px;text-align:center;color:#4781ea;border-left:1px solid #ddd\n}\n.next[data-v-4a26efed]{top:165px;height:50px;width:400px;text-align:center;line-height:50px;border:2px solid #4781ea;margin:0 auto\n}\n.next .tagli[data-v-4a26efed]{font-size:25px;color:#4781ea\n}\n.lineLight[data-v-4a26efed]{border-bottom:2px solid #4781ea !important\n}\n.activeBake[data-v-4a26efed]{color:#4781ea !important;border:2px solid #4781ea !important\n}\n.activeColor[data-v-4a26efed]{color:#4781ea !important\n}\n.step[data-v-4a26efed]{font-size:20px;color:#C7C7C7;background:#fff;margin-left:20px;width:40px;height:40px;text-align:center;line-height:36px;border-radius:100%;border:2px solid #C7C7C7\n}\n.littleWord[data-v-4a26efed]{font-size:20px;margin-top:10px;padding-left:5px\n}\ninput[data-v-4a26efed]::-webkit-input-placeholder{color:#C7C7C7\n}\ninput[data-v-4a26efed]:-moz-placeholder{color:#C7C7C7\n}\ninput[data-v-4a26efed]::-moz-placeholder{color:#C7C7C7\n}\ninput[data-v-4a26efed]:-ms-input-placeholder{color:#C7C7C7\n}\n"],sourceRoot:"webpack://"}])},270:function(t,e,i){var a=i(217);"string"==typeof a&&(a=[[t.id,a,""]]);i(5)(a,{});a.locals&&(t.exports=a.locals)},346:function(t,e,i){i(270);var a=i(6)(i(756),i(370),"data-v-4a26efed",null);t.exports=a.exports},370:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.het+"px"}},[t._m(0),t._v(" "),i("div",{staticClass:"littleTip"},[t.isTipShow?i("p",{staticClass:"tipContainer",domProps:{textContent:t._s(t.tipWord)}}):t._e()]),t._v(" "),i("section",{staticClass:"primaryregiste"},[i("div",{staticClass:"singleIofo"},[i("span",[t._v("电子邮箱")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mailName,expression:"mailName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"作为登录用户名"},domProps:{value:t.mailName},on:{blur:[function(t){},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.mailName=e.target.value.trim())}}})]),t._v(" "),i("div",{staticClass:"singleIofo"},[i("span",[t._v("设定密码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password1,expression:"password1",modifiers:{trim:!0}}],attrs:{type:"password",maxlength:"15",placeholder:"支持字母+数字（不支持特殊符号，长度6-15位）"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"singleIofo"},[i("span",[t._v("确认密码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password2,expression:"password2",modifiers:{trim:!0}}],attrs:{type:"password",maxlength:"15",placeholder:"支持字母+数字（不支持特殊符号，长度6-15位）"},domProps:{value:t.password2},on:{blur:[function(t){},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.password2=e.target.value.trim())}}})]),t._v(" "),i("div",{staticClass:"singleIofo"},[i("span",[t._v("手机号码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phoneNumber,expression:"phoneNumber",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"作为绑定手机"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"singleIofo"},[i("span",[t._v("短信验证码")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.Txt,expression:"Txt",modifiers:{trim:!0}}],staticStyle:{width:"380px"},attrs:{type:"text"},domProps:{value:t.Txt},on:{input:function(e){e.target.composing||(t.Txt=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"getTxt",on:{click:t.getTxt}},[t._v("获取验证码")])])]),t._v(" "),i("p",{staticClass:"next"},[i("router-link",{staticClass:"tagli",attrs:{to:"",tag:"li"},nativeOn:{click:function(e){t.goNext(e)}}},[t._v("下一步")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"stepRegister"},[i("div",{staticClass:"firstStep"},[i("div",{staticClass:"step activeBake"},[t._v("1")]),t._v(" "),i("div",{staticClass:"littleWord activeColor"},[t._v("注册账号")])]),t._v(" "),i("span",{staticClass:"line1 lineLight"}),t._v(" "),i("div",{staticClass:"secStep"},[i("div",{staticClass:"step "},[t._v("2")]),t._v(" "),i("div",{staticClass:"littleWord "},[t._v("填写资料")])]),t._v(" "),i("span",{staticClass:"line2 "}),t._v(" "),i("div",{staticClass:"thirdStep"},[i("div",{staticClass:"step "},[t._v("3")]),t._v(" "),i("div",{staticClass:"littleWord"},[t._v("注册完成")])])])}]}},756:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{het:0,mailName:"",password1:"",password2:"",phoneNumber:"",postphone:"",Txt:"",isTipShow:!1,tipWord:""}},mounted:function(){this.$nextTick(function(){this.het=window.screen.availHeight-115})},methods:{getMailName:function(){if(""!=this.mailName){var t=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;t.test(this.mailName)?(this.isTipShow=!1,this.testEmailExist()):t.test(this.mailName)||(this.isTipShow=!0,this.tipWord="邮箱格式不符合规范")}},testEmailExist:function(){var t=localStorage.getItem("TOKEN"),e={filed:"email",data:this.mailName};this.$http.post("https://api.lotusdata.com/ip/v1/reg/checkdata",e,{headers:{Authorization:t}}).then(function(t){var e=t.data.data;1==e?(this.isTipShow=!0,this.tipWord="名称检测已被注册， 请使用新邮箱"):0==e&&(this.isTipShow=!1,this.tipWord="",this.enturePassword())},function(){console.log("数据请求失败")})},enturePassword:function(){""==this.password1?(this.isTipShow=!0,this.tipWord="请输入空缺密码"):""==this.password2?(this.isTipShow=!0,this.tipWord="请输入空缺密码"):""!=this.password1&&""!=this.password2&&(this.password1!=this.password2?(this.isTipShow=!0,this.tipWord="检测到两处密码不相同，请重新填写"):this.password1==this.password2&&(this.password1.length<6?(this.isTipShow=!0,this.tipWord="密码长度不符规范"):this.password1.length>=6&&(this.isTipShow=!1,console.log("所有验证已完成"),this.sendInfo())))},sendInfo:function(){var t=localStorage.getItem("TOKEN"),e={email:this.mailName,passw:this.password2,phone:this.phoneNumber,vercode:this.Txt};this.$http.post("https://api.lotusdata.com/ip/v1/reg/baseregister",e,{headers:{Authorization:t}}).then(function(t){console.log(t),0==t.data.code&&(sessionStorage.setItem("registerId",t.data.data),sessionStorage.setItem("phoneNumber",this.phoneNumber),sessionStorage.setItem("mailName",this.mailName),sessionStorage.setItem("password",this.password2),this.$router.push({path:"/register/fillInfo"}))},function(){console.log("数据传输失败")})},getTxt:function(){/^1(3|4|5|7|8)\d{9}$/.test(this.phoneNumber)?(this.isTipShow=!1,this.testPhoneExist(this.phoneNumber)):(this.isTipShow=!0,this.tipWord="手机号码不符合规范，请重新输入")},testPhoneExist:function(t){var e=localStorage.getItem("TOKEN"),i={filed:"phone",data:t};this.$http.post("https://api.lotusdata.com/ip/v1/reg/checkdata",i,{headers:{Authorization:e}}).then(function(t){var e=t.data.data;1==e?(this.isTipShow=!0,this.tipWord="检测该手机号已被注册， 请重新填写"):0==e&&(this.isTipShow=!1,this.sendTxt())},function(){console.log("数据请求失败")})},sendTxt:function(){this.postphone=this.phoneNumber;var t=localStorage.getItem("TOKEN");this.$http.post("https://api.lotusdata.com/v1/sms/send",{},{params:{phone:this.postphone,sendtype:"register"},headers:{Authorization:t}}).then(function(t){console.log("短信验证码"+t.data.message),this.isTipShow=!0,this.tipWord="验证码已发送，请注意查收"},function(){console.log("数据请求失败")})},goNext:function(){if(""!=this.phoneNumber)if(this.isTipShow=!1,""!=this.Txt){this.isTipShow=!1;var t=localStorage.getItem("TOKEN");this.$http.post("https://api.lotusdata.com/v1/sms/codever",{},{params:{phone:this.phoneNumber,code:this.Txt},headers:{Authorization:t}}).then(function(t){"0"==t.data.code?this.goNextPage():(console.log(this.phoneNumber),this.isTipShow=!0,this.tipWord="验证码错误")},function(){console.log("数据匹配失败")})}else this.isTipShow=!0,this.tipWord="请填写验证码";else this.isTipShow=!0,this.tipWord="请填写注册手机号"},goNextPage:function(){""==this.mailName?(this.isTipShow=!0,this.tipWord="请输入注册邮箱"):(this.isTipShow=!1,this.getMailName())}},components:{}}}});