webpackJsonp([20,43,45,46],{220:function(t,e,a){e=t.exports=a(5)(),e.push([t.id,".changePhone .stepInfo[data-v-581bdacc]{position:relative}.changePhone .stepInfo .firstStep[data-v-581bdacc]{position:absolute;left:0}.changePhone .stepInfo .firstStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9}.changePhone .stepInfo .line1[data-v-581bdacc]{position:absolute;left:40px;display:block;width:300px;height:10px;border-bottom:1px solid #e4e7e9}.changePhone .stepInfo .secStep[data-v-581bdacc]{position:absolute;left:320px}.changePhone .stepInfo .secStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9}.changePhone .stepInfo .line2[data-v-581bdacc]{position:absolute;left:360px;display:block;width:300px;height:10px;border-bottom:1px solid #e4e7e9}.changePhone .stepInfo .thirdStep[data-v-581bdacc]{position:absolute;left:640px}.changePhone .stepInfo .thirdStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9}.changePhone .testContent[data-v-581bdacc]{position:relative;width:700px;top:100px}.activeBake[data-v-581bdacc]{background:#6dc5a3}.phoneWord[data-v-581bdacc]{margin-top:10px}.activeColor[data-v-581bdacc]{color:#6dc5a3}.form-group[data-v-581bdacc]{margin-bottom:30px}.save[data-v-581bdacc]{background:#6dc5a3!important;color:#fff!important}","",{version:3,sources:["/./src/page/ipManage/children/children/changeMail/changeAnotherMail.vue"],names:[],mappings:"AACA,wCAAwC,iBAAiB,CACxD,AACD,mDAAmD,kBAAkB,MAAM,CAC1E,AACD,yDAAyD,iBAAiB,WAAW,YAAY,mBAAmB,wBAAwB,CAC3I,AACD,+CAA+C,kBAAkB,UAAU,cAAc,YAAY,YAAY,+BAA+B,CAC/I,AACD,iDAAiD,kBAAkB,UAAU,CAC5E,AACD,uDAAuD,iBAAiB,WAAW,YAAY,mBAAmB,wBAAwB,CACzI,AACD,+CAA+C,kBAAkB,WAAW,cAAc,YAAY,YAAY,+BAA+B,CAChJ,AACD,mDAAmD,kBAAkB,UAAU,CAC9E,AACD,yDAAyD,iBAAiB,WAAW,YAAY,mBAAmB,wBAAwB,CAC3I,AACD,2CAA2C,kBAAkB,YAAY,SAAS,CACjF,AACD,6BAA6B,kBAAkB,CAC9C,AACD,4BAA4B,eAAe,CAC1C,AACD,8BAA8B,aAAa,CAC1C,AACD,6BAA6B,kBAAkB,CAC9C,AACD,uBAAuB,6BAA8B,oBAAqB,CACzE",file:"changeAnotherMail.vue",sourcesContent:["\n.changePhone .stepInfo[data-v-581bdacc]{position:relative\n}\n.changePhone .stepInfo .firstStep[data-v-581bdacc]{position:absolute;left:0\n}\n.changePhone .stepInfo .firstStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9\n}\n.changePhone .stepInfo .line1[data-v-581bdacc]{position:absolute;left:40px;display:block;width:300px;height:10px;border-bottom:1px solid #e4e7e9\n}\n.changePhone .stepInfo .secStep[data-v-581bdacc]{position:absolute;left:320px\n}\n.changePhone .stepInfo .secStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9\n}\n.changePhone .stepInfo .line2[data-v-581bdacc]{position:absolute;left:360px;display:block;width:300px;height:10px;border-bottom:1px solid #e4e7e9\n}\n.changePhone .stepInfo .thirdStep[data-v-581bdacc]{position:absolute;left:640px\n}\n.changePhone .stepInfo .thirdStep .step[data-v-581bdacc]{margin-left:20px;width:20px;height:20px;border-radius:100%;border:1px solid #e4e7e9\n}\n.changePhone .testContent[data-v-581bdacc]{position:relative;width:700px;top:100px\n}\n.activeBake[data-v-581bdacc]{background:#6dc5a3\n}\n.phoneWord[data-v-581bdacc]{margin-top:10px\n}\n.activeColor[data-v-581bdacc]{color:#6dc5a3\n}\n.form-group[data-v-581bdacc]{margin-bottom:30px\n}\n.save[data-v-581bdacc]{background:#6dc5a3 !important;color:#fff !important\n}\n"],sourceRoot:"webpack://"}])},269:function(t,e,a){var i=a(220);"string"==typeof i&&(i=[[t.id,i,""]]);a(6)(i,{});i.locals&&(t.exports=i.locals)},316:function(t,e,a){a(269);var i=a(7)(a(718),a(361),"data-v-581bdacc",null);t.exports=i.exports},361:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"changePhone"},[t._m(0),t._v(" "),a("section",{staticClass:"testContent"},[a("form",{staticClass:"form-horizontal",attrs:{role:"form"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 col-xs-2 control-label"},[t._v("新邮箱:")]),t._v(" "),a("div",{staticClass:"col-sm-5 col-xs-5"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newMail1,expression:"newMail1",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入您的密码"},domProps:{value:t.newMail1},on:{input:function(e){e.target.composing||(t.newMail1=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 col-xs-2 control-label"},[t._v("确认新邮箱:")]),t._v(" "),a("div",{staticClass:"col-sm-5 col-xs-5"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newMail2,expression:"newMail2",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入您的密码"},domProps:{value:t.newMail2},on:{input:function(e){e.target.composing||(t.newMail2=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("p",{staticClass:"form-control-static warned",domProps:{textContent:t._s(t.emailRight)}},[t._v(" ")])])]),t._v(" "),a("div",{staticClass:"form-group marginRepair"},[a("label",{staticClass:"col-sm-2 col-xs-2 control-label"}),t._v(" "),a("div",{staticClass:"col-sm-2 col-xs-2"},[a("input",{staticClass:"btn btn-default form-control save",attrs:{type:"button",value:"保存"},on:{click:t.save}})])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"stepInfo"},[a("div",{staticClass:"firstStep"},[a("div",{staticClass:"step "}),t._v(" "),a("div",{staticClass:"phoneWord "},[t._v("验证邮箱")])]),t._v(" "),a("span",{staticClass:"line1 "}),t._v(" "),a("div",{staticClass:"secStep"},[a("div",{staticClass:"step activeBake"}),t._v(" "),a("div",{staticClass:"phoneWord activeColor"},[t._v("修改邮箱")])]),t._v(" "),a("span",{staticClass:"line2 "}),t._v(" "),a("div",{staticClass:"thirdStep"},[a("div",{staticClass:"step "}),t._v(" "),a("div",{staticClass:"phoneWord"},[t._v("完成")])])])}]}},718:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(23);e.default={data:function(){return{emailRight:"",newMail1:"",newMail2:""}},components:{},mounted:function(){this.$nextTick(function(){console.log(this.resettoken)})},computed:(0,i.mapGetters)({resettoken:"getResettoken"}),methods:{save:function(){if(""==this.newMail1)this.emailRight="请填写新邮箱";else if(""==this.newMail2)this.emailRight="请填写新邮箱";else if(this.newMail1!=this.newMail2)this.emailRight="检测到两处邮箱不相同，请重新填写";else if(this.newMail1==this.newMail2&&""!=this.newMail1){var t=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;t.test(this.newMail1)?this.testEmailExist():t.test(this.newMail1)||(this.emailRight="邮箱格式不支持，请重新填写")}},testEmailExist:function(){var t=localStorage.getItem("TOKEN"),e={filed:"email",data:this.newMail1};this.$http.post("https://api.lotusdata.com/ip/v1/reg/checkdata",e,{headers:{Authorization:t}}).then(function(t){var e=t.data.data;1==e?this.emailRight="名称检测已被注册， 请使用新邮箱":0==e&&(this.sendEmail(),this.emailRight="")},function(){console.log("数据请求失败")})},sendEmail:function(){var t=localStorage.getItem("TOKEN"),e={resettoken:this.resettoken,type:"email",newdata:this.newMail1};this.$http.post("https://api.lotusdata.com/ip/v1/reg/resetdata",e,{headers:{Authorization:t}}).then(function(t){console.log(t),0==t.data.code&&this.$router.push({path:"/ipContent/userInfo/accountSecurity/completeMail"})},function(){console.log("数据匹配失败")})}},watch:{}}}});